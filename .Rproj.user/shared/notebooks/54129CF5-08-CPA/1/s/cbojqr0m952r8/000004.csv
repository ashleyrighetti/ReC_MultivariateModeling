"0","set.seed(190505)"
"0","Combined <- '"
"0","    #equations"
"0","    DisEngmt ~ a1*GRMS + a2*GRIcntlty + a3*GRMS:GRIcntlty"
"0","    MntlHlth ~ c_p1*GRMS + c_p2*GRIcntlty + c_p3*GRMS:GRIcntlty + b*DisEngmt"
"0",""
"0","    #intercepts"
"0","    DisEngmt ~ DisEngmt.mean*1"
"0","    MntlHlth ~ MntlHlth.mean*1"
"0",""
"0","    #means, variances of W for simple slopes"
"0","    GRIcntlty ~ GRIcntlty.mean*1"
"0","    GRIcntlty ~~ GRIcntlty.var*GRIcntlty"
"0","    "
"0","    #index of moderated mediation, there will be an a and b path in the product"
"0","    #if the a and/or b path is moderated, select the label that represents the moderation"
"0","    imm := a3*b"
"0",""
"0","    #Note that we first create the indirect product, then add to it the product of the imm and the W level"
"0","    indirect.SDbelow := a1*b + imm*(GRIcntlty.mean - sqrt(GRIcntlty.var))"
"0","    indirect.mean := a1*b + imm*(GRIcntlty.mean)"
"0","    indirect.SDabove := a1*b + imm*(GRIcntlty.mean + sqrt(GRIcntlty.var))"
"0",""
"0","    #direct effect is also moderated so calculate with c_p1 + c_p3"
"0","    direct.SDbelow := c_p1 + c_p3*(GRIcntlty.mean - sqrt(GRIcntlty.var)) "
"0","    direct.Smean := c_p1 + c_p3*(GRIcntlty.mean)"
"0","    direct.SDabove := c_p1 + c_p3*(GRIcntlty.mean + sqrt(GRIcntlty.var))"
"0",""
"0","    #total effect"
"0","    total.SDbelow := direct.SDbelow + indirect.SDbelow"
"0","    total.mean := direct.Smean + indirect.mean"
"0","    total.SDabove := direct.SDabove + indirect.SDabove"
"0"," '"
"0","Combined_fit <- sem(Combined, data = Lewis_df, se = ""bootstrap"", missing = 'fiml', bootstrap = 1000)"
"2","lavaan WARNING: syntax contains parameters involving exogenous covariates; switching to fixed.x = FALSE"
